\newcommand\nc\newcommand
\nc\rnc\renewcommand

\usepackage{epsfig}
\usepackage{latexsym}
\usepackage{amsmath}
\usepackage{amssymb}

%% Using?
\usepackage{subcaption}

\nc\out[1]{}

\nc\noteOut[2]{\note{#1}\out{#2}}

% While working, use these defs
%% \nc\note[1]{{\em [#1]}}
%% \nc\notefoot[1]{\footnote{\note{#1}}}
% But for the submission, use these
\nc\note\out
\nc\notefoot\out

\nc\todo[1]{\note{To do: #1}}

\nc\figlabel[1]{\label{fig:#1}}
\nc\figref[1]{Figure~\ref{fig:#1}}
\nc\figreftwo[2]{Figures~\ref{fig:#1} and \ref{fig:#2}}

\nc\seclabel[1]{\label{sec:#1}}
\nc\secref[1]{Section~\ref{sec:#1}}
\nc\secreftwo[2]{Sections~\ref{sec:#1} and~\ref{sec:#2}}

\nc\appref[1]{Appendix~\ref{sec:#1}}


%% The name \secdef is already taken
\nc\sectiondef[1]{\section{#1}\seclabel{#1}}
\nc\subsectiondef[1]{\subsection{#1}\seclabel{#1}}
\nc\subsubsectiondef[1]{\subsubsection{#1}\seclabel{#1}}

\nc\sectionl[1]{\section{#1}\seclabel{#1}}
\nc\subsectionl[1]{\subsection{#1}\seclabel{#1}}

\nc\needcite{\note{ref}}

% \nc\myurl\texttt

%% For acmlarge, I have to put my figures side by side

%% http://tex.stackexchange.com/questions/5769/two-figures-side-by-side

\setlength{\fboxsep}{1ex}
\setlength{\fboxrule}{0.05ex} % gray or dotted might work better

%% \figone{fraction}{label}{caption}{content}
\nc\figoneW[4]{
\fbox{%
\begin{minipage}{#1\linewidth}
  \centering
  \setlength\mathindent{0ex}
  #4
  \vspace*{-5ex}
  \captionof{figure}{#3}
  \label{fig:#2}
\end{minipage}
}
}
\nc\figone{\figoneW{\stdWidth}}

%% %% \figo{fraction}{content}
%% \nc\figoW[2]{
%% \fbox{
%% \begin{minipage}{#1\linewidth}
%%   \centering
%%   \setlength\mathindent{0ex}
%%   #2
%% \end{minipage}
%% }
%% }

\nc\figo[1]{
\begin{figure}
\centering
#1
\end{figure}
}

%% \nc\figp[2]{
%% \begin{figure}
%% \centering
%% #1
%% \hspace{-2ex}
%% #2
%% \end{figure}
%% }

\nc\figp[2]{\begin{figure}\centering #1 \hspace{-2ex} #2\end{figure}}

%% \circdefW{frac}{label/file}{caption}{work}{depth}
\nc\circdefW[5]{\figoneW{#1}{#2}{#3 \stats{#4}{#5}}{\incpic{#2}}}
\nc\circdef{\circdefW{\stdWidth}}

\nc\stdWidth{0.46}

%% \figpair{frac1}{frac2}{label1}{caption1}{content1}{label2}{caption2}{content2}
\nc\figpairW[8]{
\begin{figure}
\centering
\figoneW{#1}{#3}{#4}{#5}
%\hspace{.05\linewidth}
%\hfill
\figoneW{#2}{#6}{#7}{#8}
\end{figure}
}
%% \figpair{label1}{caption1}{content1}{label2}{caption2}{content2}
\nc\figpair{\figpairW{\stdWidth}{\stdWidth}}

\nc\incpic[1]{\includegraphics[width=\linewidth]{figures/#1}}

%% \incpicW{frac}{file}
\nc\incpicW[2]{\includegraphics[width=#1\linewidth]{figures/#2}}

%%%%%%


\newcommand{\lscanStat}[3]{
#1 & #2 & #3 \\ %\hline
}
\newcommand{\lscanStats}[1]{
\begin{center}
\begin{tabular}{ccc}%{|c|c|c|}
  %\hline
  \lscanStat{\out{Type}}{operations}{depth} \hline
  #1
  \hline
\end{tabular}
%\vspace{0.25ex}
\end{center}
}

\newcommand{\fftStat}[6]{
#1 & #2 & #3 & #4 & #5 & #6 \\ %\hline
}
\newcommand{\fftStats}[1]{
\begin{center}
\begin{tabular}{cccccc}%{|c|c|c|c|c|c|}
  %\hline
  \fftStat{\out{Type}}{$+$}{$\times$}{$-$}{total}{depth} \hline
  #1
  \hline
\end{tabular}
%\vspace{0.25ex}
\end{center}
}

\nc\symTwo[1]{\mathbin{#1\!\!\!#1}}
\nc\symThree[1]{\mathbin{#1\!\!\!#1\!\!\!#1}}


%% \newcommand{\onelinecommentchars}{\quad-{}- }
%% \newcommand{\commentbeginchars}{\enskip\{-}
%% \newcommand{\commentendchars}{-\}\enskip}

\renewcommand{\onelinecommentchars}{-{}- }
\renewcommand{\commentbeginchars}{\{-\,}
\renewcommand{\commentendchars}{-\}\enskip}

\visiblecomments

\setlength\mathindent{4ex}


%%%% Older stuff follows. Trim.


% Arguments: env, label, caption, body
\nc\figdefG[4]{\begin{#1}[tbp]
#4
\caption{#3}
\figlabel{#2}
\end{#1}}

% Arguments: label, caption, body
\nc\figdef{\figdefG{figure}}
\nc\figdefwide{\figdefG{figure*}}

%% \nc\figdef[3]{\begin{figure}
%% \centering
%% \frame{#3}
%% \caption{#2}
%% \figlabel{#1}
%% \end{figure}}

%% \nc\figdefwide[3]{\begin{figure*}
%% \centering
%% \frame{#3}
%% \caption{#2}
%% \figlabel{#1}
%% \end{figure*}}

% Arguments: label, caption, body
\nc\figrefdef[3]{\figref{#1}\figdef{#1}{#2}{#3}}

\nc\figrefdefwide[3]{\figref{#1}\figdefwide{#1}{#2}{#3}}


% Image format: PNG or JPEG?  JPEG lets us shrink the files, at some cost
% in fidelity.  Png is much slower to process even when the files are
% smaller.  I guess there's some conversion process going on.
% JPEG compressed at 35x, the figures are smaller and faster to
% process than png.  The eps files are huge (about 80x). 
% Since PNG is lossless, keep the master figures in that format and convert.


\nc\picext{pdf}
%\nc\picext{jpg}
%\nc\picext{eps}
%\nc\picext{tif}

\nc\picfile[1]{figures/#1}
\nc\wpic[2]{\includegraphics[width=#1]{\picfile{#2}}}
\nc\pic[1]{\wpic{3.2in}{#1}}

\nc\wfig[2]{
\begin{center}
\wpic{#1}{#2}
\end{center}
}
\nc\fig[1]{\wfig{4in}{#1}}

\nc\picframe[1]{\pic{#1}}
\nc\picframewide[1]{\wpic{7in}{#1}}

\nc\picdef[2]{\figdef{#1}{#2}{\centering \picframe{#1}}}
\nc\picdefwide[2]{\figdefwide{#1}{#2}{\centering \picframewide{#1}}}

%% \nc\picdef[2]{\begin{figure}
%% \centering
%% \frame{\includegraphics[width=2.7in]{\picfile{#1}}}
%% \caption{#2}
%% \label{fig:#1}
%% \end{figure}}

\nc\picrefdef[2]{\picdef{#1}{#2}\figref{#1}}
\nc\picrefdefwide[2]{\picdefwide{#1}{#2}\figref{#1}}

\nc\picrefdeftwo[4]{\picdef{#1}{#2} \picdef{#3}{#4} \figreftwo{#1}{#3}}

\nc\stats[2]{\emph{[W=#1, D=#2]}}

\nc\circuitdef[4]{\picdef{#1}{#2 \stats{#3}{#4}}}
\nc\circuitdefwide[4]{\picdefwide{#1}{#2 \stats{#3}{#4}}}

\nc\circuitrefdef[4]{\circuitdef{#1}{#2}{#3}{#4} \figref{#1}}

\nc\figneeded[1]{\figdef{needed}{#1}}

\nc\size[1]{\lvert #1 \rvert}

\nc\onehalf{\tfrac 1 2}

\usepackage{etoolbox}
%% Here because the @ confuses lhs2tex
\nc\blankCopyright{
\makeatletter
\patchcmd{\maketitle}{\@copyrightspace}{}{}{}
\makeatother
}

%% \nc\blankCopyright{
%% \makeatletter
%% \def\runningfoot{\def\@runningfoot{}}
%% \def\firstfoot{\def\@firstfoot{}}
%% \makeatother
%% }
